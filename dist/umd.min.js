/*
 * Copyright(c) 2014, Unional (https://github.com/unional)
 * @license Licensed under the MIT License (https://github.com/unional/unional/LICENSE)).
 * @version 0.4.8
 * Created by unional on 9/21/14.
 */

(function(e){function o(e){var t=e.toString().replace(i,""),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(s);return n===null&&(n=[]),n}function u(e){var t=0,n,r,i;if(e.length==0)return t;for(n=0,i=e.length;n<i;n++)r=this.charCodeAt(n),t=(t<<5)-t+r,t|=0;return t}function a(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=e.indexOf(n);r===0&&(e=e.replace(n,t[n]))}return e}function f(e,t){return a(e,t).replace(/[\.\/]/g,".")}function l(e,t){return function(n){return e(a(n,t))}}function c(e,t,n){return function(){if(arguments.length>0&&typeof arguments[0]=="function"){var r=arguments[0],i=o(r);if(i.length>0&&i[0]==="require"){var s=t.s.contexts._,u=s.makeRequire;s.makeRequire=function(){var e=u.apply(s,arguments);return l(e,n)},arguments[0]=i.length===1?function(e){return s.makeRequire=u,r.apply(s,arguments)}:function(e,t,n){return s.makeRequire=u,r.apply(s,arguments)}}}e.apply(this,arguments)}}function h(e,t){var n={},r;if(e&&typeof e=="object")for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)if(t.hasOwnProperty(r)){var i=t[r];typeof i!="object"||!i?n[r]=i:e[r]?n[r]=h(e[r],i):n[r]=i}return n}function p(e,r,i,s){if(!Array.isArray(e))throw new Error("Dependencies must be an array.");var o=v.globalRequire;if(typeof o=="undefined"||o===v.require){n++;var u="stub"+n,a=t.default.config.paths,l={};for(var c in r)r.hasOwnProperty(c)&&(l[f(c,a)]=r[c]);var p=t[u]=new d({stubs:l,paths:a});p.modules=h(t.default.modules),p.setReloadTargets(e.map(function(e){return f(e,a)})),p.require(e,i,s)}else{if(!o.defined)throw new Error("stubRequire not implemented for node.js yet.");var m={},g=!1;for(var c in r)if(r.hasOwnProperty(c)){g=!0;var y="stub"+c+n;m[c]=y,function(e){var t=r[e];define(y,[],function(){return t})}(c)}if(g){n++;var b="context_"+n,w=o.s.contexts._.config,E={context:b,baseUrl:w.baseUrl,paths:w.paths,pkgs:w.pkgs,shim:w.shim};g&&(E.map={"*":m});var S=o.config(E),x=o.s.contexts._.defined;for(var T in x)x.hasOwnProperty(T)&&!m[T]&&e.indexOf(T)===-1&&(o.s.contexts[b].defined[T]=x[T]);S(e,i,s)}else{for(var N in e)o.undef(e[N]);o(e,i,s)}}}function d(e){function i(e,t){if(e.length===0)return;var r=e.shift();n.resolveModule(r,function(n){t.push(n),i(e,t)})}this.reloadTargets=[],this.modules={},this.config=h({paths:{}},e);var n=this;this.require=function(t,r,s){var o;if(!t){o=new Error("moduleName can't be empty");if(s){s(o);return}throw o}try{if(!Array.isArray(t))return n.resolveModule(t,r,s);var u=[];i(t,u),u&&r&&r.apply(this,u)}catch(o){throw s&&s(o),o}},this.require.config=function(n){n=n||{};var r=t.default;return n.context?(r=t[n.context],r?r.updateConfig(n):r=t[n.context]=new d(n)):r.updateConfig(n),r.require},this.createDefine=function(t,i,s){return typeof t=="string"&&(t=undefined,i=arguments[0],s=arguments[1]),function(o){var u={exports:{}},a;if(typeof o=="object")a=o;else{var f=s?l(n.require,s):n.require;a=o(f,u.exports,u),a=typeof a!="undefined"?a:u.exports}if(t)t(i,a);else{r[i]=o;if(n.reloadTargets.indexOf(i)===-1){var c=i.split(/[.\/]/),h=c.pop(),p=v.ns(c.join("."));p[h]=a}n.modules[i]=a}}}}var t={},n=0,r={},i=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,s=/([^\s,]+)/g;typeof global!="undefined"&&(e=global),d.prototype.updateConfig=function(t){this.config=h(this.config,t)},d.prototype.setReloadTargets=function(t){this.reloadTargets=t},d.prototype.resolveModule=function(n,i,s){var o=this.config.stubs||{},u=this.config.paths||{},a=f(n,u);if(o[a])return i&&i(o[a]),o[a];if(this.reloadTargets.indexOf(a)!==-1){var l=r[a];l&&this.createDefine(a)(l)}if(this.modules[a])return i&&i(this.modules[a]),this.modules[a];var c=n.split("!",2),h=undefined;c.length==2&&(n=c[0],c[1]&&(h=c[1]));var p=n.split("/"),d=p.shift();if(u[d]){var v=u[d].split("/");p=v.concat(p),d=p.shift()}var m=e[d];while(m&&p.length)d=p.shift(),m=m[d];if(c.length==2&&m&&typeof m.load=="function"){var g=i||function(e){m=e};g.error=s||function(){},m.load(h,this.require,g,this.config)}return i&&i(m),m},t.default=new d;var v=function(e,t,n,r,i,s,o){if(typeof arguments[1]=="string")if(arguments.length===6){if(typeof arguments[2]!="object"||typeof arguments[3]!="function"&&typeof arguments[3]!="undefined")throw new Error("Invalid arguments.");t=undefined,n=arguments[1],r=arguments[2],i=arguments[3],s=arguments[4],o=arguments[5]}else{if(arguments.length!==5)throw new Error("Invalid arguments");if(typeof arguments[2]!="function"&&typeof arguments[2]!="undefined")throw new Error("Invalid arguments");t=null,n=arguments[1],r=null,i=arguments[2],s=arguments[3],o=arguments[4]}else if(typeof arguments[1]=="function"&&typeof arguments[2]!="string"){if(arguments.length!==4)throw new Error("Invalid arguments");t=null,n=null,r=null,i=arguments[1],s=arguments[2],o=arguments[3]}else if(typeof arguments[1]=="object"){if(typeof arguments[2]!="function"||arguments.length!==5)throw new Error("Invalid arguments");t=null,n=null,r=arguments[1],i=arguments[2],s=arguments[3],o=arguments[4]}else typeof r=="function"&&(r=null,i=arguments[3],s=arguments[4],o=arguments[5]);if(v.isRequireJS()){var u=r&&r.requireJS?c(define,i,r.requireJS):define;e(u)}else v.isNodeJS()?e(function(e){var t=r&&r.nodeJS?l(i,r.nodeJS):i,n=typeof e=="object"?e:e(t,s,o);typeof n!="undefined"&&(o.exports=n)}):r&&r.browserGlobal?e(v.createDefine(t,n,r.browserGlobal)):e(v.createDefine(t,n))};v.namespace=function m(m){var t;for(var n=0,r=arguments.length;n<r;n++){m=arguments[n];var i=m.split(/[.\/]/),s=i.shift();t=e[s]=e[s]||{};while(i.length)s=i.shift(),t=t[s]=t[s]||{}}return t},v.ns=v.namespace,v.isRequireJS=function(){return typeof define=="function"&&define.amd!=undefined},v.isNodeJS=function(){return typeof require=="function"&&typeof exports=="object"&&typeof module=="object"},v.isBrowserGlobal=function(){return!v.isRequireJS()&&!v.isNodeJS()},v.stubRequire=p,v.globalRequire=typeof require=="function"?require:e.require,v.require=t.default.require,v.createDefine=t.default.createDefine,typeof global!="undefined"?(global.umd=v,module.exports=v):(e.umd=v,e.require=e.require||undefined,e.module=e.module||undefined,e.exports=e.exports||undefined)})(this),define("umd",function(){});